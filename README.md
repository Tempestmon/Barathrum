# Barathrum

## О проекте

### Описание

Создавался в качестве проекта к курсу МатМеха УрФУ "Проектирование информационных систем" весной 2022 года.
Является приложением для автоматического расчёта решений по доставке из пункта А в пункт Б.
Проект был создан за ограниченное количество времени, поэтому имеет в себе кучу недостатков,
которые будут исправляться и совершенствоваться со временем.

### Технологии

- Python 3.10
- Flask 2.1.2
- MongoDB 5
- Bootstrap 5

## Запуск приложения

Для запуска приложения, требуется локально собрать докер-образ или скачать его из DockerHub.
Также потребуется образ mongo:5. После этого, можно запустить через `docker-compose up -d` и пройти
по [адресу](127.0.0.1:5000). Также проекту требуются переменные окружения, которые описаны ниже

## Переменные окружения

Общие переменные в файле `common.env`:

| Название       | Назначение                            |
|----------------|---------------------------------------|
| MONGO_USER     | Пользователь, делающий запросы в базе |
| MONGO_PASSWORD | Пароль пользователя                   |
| MONGO_HOST     | DNS-имя хоста базы                    |

Переменные приложения в файле `backend.env`:

| Название       | Назначение                      |
|----------------|---------------------------------|
| SECRET_KEY     | Секретный ключ для логина Flask |

## Будущие доработки

### Технические

- [x] Вынести сборку приложения в Makefile
- [ ] Заменить MongoDB на SQLite, сделав все запросы транзакционными
- [x] Убрать лишние повторения в страницах HTML
- [ ] Настроить пайплайн в GitHub Actions
- [ ] Сделать docker-образ distroless
- [ ] Создавать образы отдельные образы для тестов и для продакшена
- [ ] Вынести все изменяемые параметры как настройки и брать их из переменных окружения
- [ ] Подключить логи
- [ ] Создать метрики, подключить Prometheus и Grafana
- [ ] Задеплоить в Heroku
- [ ] Переписать код, чтобы он проходил линтеры

### Продуктовые

- [ ] Создать админку, где можно добавлять водителей
- [ ] Учитывать расстояние между пунктами (Мб использовать внешний API)
- [ ] Создать возможность удалять заказы
- [ ] Сделать личный кабинет пользователя
- [ ] Айдишники и прочая информация должна быть читаемой, чтобы человек мог её легко передать
- [ ] Создать страницу со списком водителей, со счётчиком заказов
- [ ] Создать возможность оценивать заказы и водителей