{% extends "base.html" %}

{% block login %}
<div class="container p-5">
    <div class="container p-5 w-50 h-50 text-center">
        {% with messages = get_flashed_messages() %}
        {% if messages %}
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            {{ messages[0] }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endif %}
        {% endwith %}
        <form class="form-signin" action="/login" method="post">
            <img src="static/logo.png" alt="logo" class="mb-4" width="72" height="72">
            <h1 class="h3 mb-3 font-weight-normal">Войдите в систему</h1>

            <input type="text" name="email" id="email" placeholder="ivan@mail.ru" class="form-control mb-4"
                   required/>

            <input type="password" name="password" id="password" placeholder="Пароль" class="form-control mb-4"
                   required/>

            <button class="btn btn-primary" type="submit">Войти</button>
        </form>
    </div>
    <div class="container p-5 w-50 h-50">
        <form class="form-singup" action="/signup" method="post"
              oninput='password_confirmation.setCustomValidity(password_confirmation.value != password.value ? "Пароли не совпадают" : "")'>
            <h1 class="h3 mb-3 font-weight-normal text-center">Или зарегистрируйтесь!</h1>

            <label for="email" class="form-label">Email:</label>
            <input type="email" name="email" id="email" placeholder="ivan@mail.ru" class="form-control mb-4"
                   required/>

            <label for="name" class="form-label">Имя:</label>
            <input type="text" name="name" id="name" placeholder="Иван" class="form-control mb-4" required/>

            <label for="second_name" class="form-label">Фамилия:</label>
            <input type="text" name="second_name" id="second_name" placeholder="Иванов" class="form-control mb-4"
                   required/>

            <label for="middle_name" class="form-label">Отчество (опционально):</label>
            <input type="text" name="middle_name" id="middle_name" placeholder="Иванович"
                   class="form-control mb-4"/>

            <label for="phone" class="form-label">Телефон:</label>
            <input type="tel" name="phone" id="phone" placeholder="88005553535" class="form-control mb-4"
                   pattern="^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$"
                   required/>

            <label for="password" class="form-label">Пароль:</label>
            <input type="password" name="password" id="password" placeholder="Пароль" class="form-control mb-4"
                   required/>

            <label for="password_confirmation" class="form-label">Подтвердите пароль:</label>
            <input type="password" id="password_confirmation" class="form-control mb-4"
                   placeholder="Подтверждение пароля" required>

            <div class="container text-center">
                <button class="btn btn-secondary align-items-center" type="submit">Зарегистрироваться</button>

            </div>
        </form>
    </div>
</div>
{% endblock %}
